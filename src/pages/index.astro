---
import Projects from '../components/Projects.astro'
import Testimonials from '../components/Testimonials.astro'
import TestimonialsTwo from '../components/TestimonialsTwo.tsx'
import { Image } from 'astro:assets';
import sendSVG from '../../public/send.svg'
import mePFP from '../images/me.jpg'
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/png" href="/favicon light.png" media="(prefers-color-scheme: light)" />
		<link rel="icon" type="image/png" href="/favicon dark.png" media="(prefers-color-scheme: dark)" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content={Astro.generator} />
		<link rel="stylesheet" href="style.css">
		<title>deniz.studio</title>
		<meta property="og:title" content="deniz.studio"/>
    <meta property="og:url" content="https://deniz.studio"/>
    <meta property="og:image" content="https://deniz.studio/og-image.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:description"
          content="Deniz is a designer nased in Wiesbaden, Germany creating modern and premium designs that elevate brands and engage audiences."/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="deniz.studio"/>
    <meta name="twitter:description" content="Deniz is a designer nased in Wiesbaden, Germany creating modern and premium designs that elevate brands and engage audiences."/>
    <meta name="twitter:image" content="https://deniz.studio/og-image.png"/>
		<script is:inline>
			// Function to update favicon based on color scheme
			function updateFavicon() {
				const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
				const favicon = document.querySelector('link[rel="icon"]');
				if (favicon && 'href' in favicon) {
					favicon.href = isDark ? '/favicon dark.png' : '/favicon light.png';
				}
			}

			// Update favicon on page load
			updateFavicon();

			// Listen for color scheme changes
			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateFavicon);
		</script>
		<script is:inline
    src="https://cdn.databuddy.cc/databuddy.js"
    data-client-id="u3DUg2DzSoaD6s6Oloc8e"
    data-track-hash-changes="true"

    data-track-attributes="true"
    data-track-outgoing-links="true"
    data-track-interactions="true"
    data-track-engagement="true"
    data-track-scroll-depth="true"
    data-track-exit-intent="true"
    data-track-bounce-rate="true"
    data-track-web-vitals="true"
    data-track-errors="true"
    data-enable-batching="true"
    crossorigin="anonymous"
    async
  ></script>
		<script is:inline>
			// Tracking utility functions
			function isTrackerAvailable() {
				return typeof window !== 'undefined' && (!!window.databuddy || !!window.db);
			}

			function getTracker() {
				if (typeof window === 'undefined') {
					return null;
				}
				return window.databuddy || null;
			}

			const track = async (eventName, properties) => {
				if (typeof window === 'undefined') {
					console.log('Tracking: Window not available');
					return;
				}
				
				// Try window.db first (shorthand), then window.databuddy
				const tracker = window.db?.track || window.databuddy?.track;
				if (!tracker) {
					console.log('Tracking: Databuddy tracker not available');
					return;
				}
				
				try {
					console.log('Tracking: Sending event', eventName, properties);
					await tracker(eventName, properties);
					console.log('Tracking: Event sent successfully');
				} catch (error) {
					console.log('Tracking: Failed to send event', error.message);
					// Still log the event locally for debugging
					console.log('Event that failed:', { eventName, properties, timestamp: new Date().toISOString() });
				}
			};

			const trackCTAClick = async (ctaType, url) => {
				await track('mail_clicked', {
					cta_type: ctaType,
					url: url,
					timestamp: new Date().toISOString(),
					page: window.location.pathname
				});
			};

			const trackEmailClick = async (email) => {
				await track('placeholder', {
					email: email,
					timestamp: new Date().toISOString(),
					page: window.location.pathname
				});
			};

			// Wait for DOM to be ready
			document.addEventListener('DOMContentLoaded', function() {
				// Track CTA button clicks
				const ctaButton = document.querySelector('.cta a');
				if (ctaButton) {
					ctaButton.addEventListener('click', function(e) {
						trackCTAClick('book_call', 'https://cal.com/denizkumral');
					});
				}

				// Track email clicks
				const emailLink = document.querySelector('.second-cta a');
				if (emailLink) {
					emailLink.addEventListener('click', function(e) {
						trackEmailClick('mail@deniz.studio');
					});
				}
			});
		</script>
	</head>
	<body>
		<div class="container">
			<div class="content-wrapper">
				<!-- Left Column (Text Content) -->
				<div class="left-column">
					<div class="main">
						<div class="title-cta">
							<div class="titletext">
								<Image quality={100} src={mePFP} id={"pfp"} alt="Image of me" width={200}/>
								<h1 class="name">Hi I'm Deniz,</h1>
								<p>based in Wiesbaden, Germany I create designs that elevate brands and engage audiences. I collaborate closely with my clients to ensure every pixel serves a purpose, delivering designs that drive real results for businesses. In my free time I also like to do <a href="https://photo.deniz.studio" target="_blank">photography</a>.</p>
							</div>
							<div class="buttons">
								<button class="cta">
									<a href="mailto:mail@deniz.studio" target="_blank">Send Email</a>
									<Image quality={100} src={sendSVG} class="send-icon" alt="send icon" width={200}/>
								</button>
								<!-- <button class="second-cta">
									<a href="mailto:mail@deniz.studio" target="_blank">mail@deniz.studio</a>
								</button> -->
							</div>
						</div>
					</div>

					<div class="bottom-content">
						<Testimonials />
						<div class="links">
							<a href="/imprint">Imprint</a>
							<a href="/privacy">Privacy</a>
							<a href="https://photo.deniz.studio" target="_blank">Photography</a>
						</div>
					</div>
				</div>

				<!-- Right Column (Projects) -->
				<div class="right-column">
					<Projects />
				</div>
			</div>
	</body>
</html>

<style>
	@font-face {
		font-family: 'Inter Variable';
		src: url('/fonts/InterVariable.ttf') format('truetype');
		font-weight: 100 900;
		font-style: normal;
		font-display: swap;
	}

	/* 1. Use a more-intuitive box-sizing model */
*, *::before, *::after {
  box-sizing: border-box;
  font-family: "Inter Variable", "Inter", sans-serif;
}

/* 2. Remove default margin */
* {
  margin: 0;
}

/* 3. Enable keyword animations */
@media (prefers-reduced-motion: no-preference) {
  html {
    interpolate-size: allow-keywords;
  }
}

body {
  /* 4. Add accessible line-height */
  line-height: 1.5;
  /* 5. Improve text rendering */
  -webkit-font-smoothing: antialiased;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/* 6. Improve media defaults */
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}

/* 7. Inherit fonts for form controls */
input, button, textarea, select {
  font: inherit;
}

a {
  color: inherit; /* blue colors for links too */
  /* text-decoration: inherit; no underline */
  font-size: 14px;
}

.titletext a {
	text-decoration: underline;
	text-decoration-style: dashed;
}

/* 8. Avoid text overflows */
p, h1, h2, h3, h4, h5, h6 {
  overflow-wrap: break-word;
}

/* 9. Improve line wrapping */
p {
  text-wrap: pretty;
  color: #1e1e1e;
}
h1, h2, h3, h4, h5, h6 {
  text-wrap: balance;
  color: #1e1e1e;
}

/*
  10. Create a root stacking context
*/
#root, #__next {
  isolation: isolate;
}

/* Base container styles */
.container {
  width: 100%;
  margin: 0;
  padding: 0;
  min-height: 100vh;
}

/* Content wrapper */
.content-wrapper {
  display: flex;
  width: 100%;
  margin: 0;
  padding: 0;
  min-height: 100vh;
}

/* Left column - Fixed width */
.left-column {
  width: 468px;
  flex-shrink: 0;
  padding: 24px 24px 24px 48px;
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.main {
  flex: 0 0 auto;
  width: 100%;
}

.bottom-content {
  width: 100%;
  margin-top: auto;
  padding-top: 40px;
}

/* Ensure content doesn't grow or shrink */
.left-column > * {
  flex: 0 0 auto;
  width: 100%;
}

/* Only bottom content should take remaining space */
.bottom-content {
  margin-top: auto;
}

/* Right column - Takes remaining space */
.right-column {
  flex: 1;
  min-width: 0;
  padding: 24px 24px 0 24px;
  margin: 0;
  width: 100%;
  max-width: 100%;
  overflow-x: visible;
  box-sizing: border-box;
}

/* Projects container */
.right-column .projects {
  margin: 0;
  padding: 0;
  width: 100%;
  max-width: 100%;
  display: block;
}

/* Projects container */
.projects {
  width: 100%;
  height: 100%;
}

/* Mobile styles */
@media (max-width: 1023px) {
  .content-wrapper {
    flex-direction: column;
  }
  
  .left-column {
    width: 100%;
    height: auto;
    position: static;
    padding: 24px 16px;
  }
  
  .right-column {
    padding: 0 16px 24px;
  }
  
  .left-column .links {
    display: none;
  }
  
  .mobile-links {
    display: block;
    width: 100%;
    padding: 0 16px 40px;
    text-align: center;
  }
  
  .mobile-links .links {
    justify-content: center;
    margin: 0;
    padding: 0;
  }
}

.projects-section {
	width: 100%;
	max-width: 1200px;
	margin: 0 auto;
}

.links {
	display: flex;
	max-width: 650px;
	align-items: center;
	margin-top: 24px;
	justify-content: flex-start;
	gap: 24px;
	text-decoration: underline;
	flex-wrap: wrap;
	width: 100%;
	padding: 0 24px;
	opacity: 0.75;
}

/* Mobile links container - hidden by default */
.mobile-links {
  display: none;
}

@media (min-width: 768px) {
	.links {
		margin-top: 24px;
		padding: 0;
	}
}

@media (max-width: 480px) {
	.links {
		gap: 12px;
	}
}

.links a:hover {
    color: #7a7a7a;
}

.title-cta {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.name, p {
 font-size: 15px;
 font-weight: 400;
 line-height: 1.55;
}

.buttons {
	display: flex;
	align-items: center;
	gap: 12px;
	flex-wrap: wrap;
}

@media (max-width: 480px) {
	.buttons {
		align-items: center;
		gap: 8px;
	}
}

.cta a {
	text-decoration: none;
	align-items: center;
	gap: 8px;
}

.cta-icon {
	width: 16px;
	height: 16px;
	margin-left: 8px;
	flex-shrink: 0;
}

.cta {
	display: flex;
	gap: 8px;
	justify-content: center;
	align-items: center;
	background-color: #732DFF;
	width: fit-content;
	color: #ffffff;
	padding: 8px 16px;
	border-radius: 100px;
	display: flex;
	justify-content: center;
	align-items: center;
	transition: all .15s ease-in-out;
    border: 1px solid rgba(0, 0, 0, 0.05);
	font-weight: 500;
	box-shadow: inset 0px -1px 12.4px -4px rgba(255, 255, 255, 0.75);
}

.cta:hover {
	color: #ffffff;
	background-color: #5a1ce0;
	border-color: rgba(0, 0, 0, 0.05);
}

.second-cta {
	text-decoration: underline;
	border: none;
	background-color: transparent;
}

#pfp {
	width: 42px;
	height: 42px;
	border-radius: 100px;
	margin-bottom: 16px;

}

.send-icon {
	width: 16px;
	height: 16px;
	opacity: 1;
	margin-top: 1.5px;
}
</style>
