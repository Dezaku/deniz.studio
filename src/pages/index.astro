---
import Projects from '../components/Projects.astro'
import Tools from '../components/Tools.astro'
import TestimonialsTwo from '../components/TestimonialsTwo.tsx'
import Testimonials from '../components/Testimonials.astro'
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/png" href="/favicon light.png" media="(prefers-color-scheme: light)" />
		<link rel="icon" type="image/png" href="/favicon dark.png" media="(prefers-color-scheme: dark)" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content={Astro.generator} />
		<link rel="stylesheet" href="style.css">
		<title>deniz.studio</title>
		<meta property="og:title" content="deniz.studio"/>
    <meta property="og:url" content="https://deniz.studio"/>
    <meta property="og:image" content="/og-image.png"/>
    <meta property="og:description"
          content="Deniz is a designer nased in Wiesbaden, Germany creating modern and premium designs that elevate brands and engage audiences."/>
		<script is:inline>
			// Function to update favicon based on color scheme
			function updateFavicon() {
				const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
				const favicon = document.querySelector('link[rel="icon"]');
				if (favicon && 'href' in favicon) {
					favicon.href = isDark ? '/favicon dark.png' : '/favicon light.png';
				}
			}

			// Update favicon on page load
			updateFavicon();

			// Listen for color scheme changes
			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateFavicon);
		</script>
		<script is:inline
    src="https://cdn.databuddy.cc/databuddy.js"
    data-client-id="u3DUg2DzSoaD6s6Oloc8e"    data-track-hash-changes="true"
    data-track-attributes="true"
    data-track-outgoing-links="true"
    data-track-interactions="true"
    data-track-engagement="true"
    data-track-scroll-depth="true"
    data-track-exit-intent="true"
    data-track-bounce-rate="true"
    data-track-web-vitals="true"
    data-track-errors="true"
    data-enable-batching="true"
    crossorigin="anonymous"
    async
  ></script>
		<script is:inline>
			// Tracking utility functions
			function isTrackerAvailable() {
				return typeof window !== 'undefined' && (!!window.databuddy || !!window.db);
			}

			function getTracker() {
				if (typeof window === 'undefined') {
					return null;
				}
				return window.databuddy || null;
			}

			const track = async (eventName, properties) => {
				if (typeof window === 'undefined') {
					console.log('Tracking: Window not available');
					return;
				}
				
				// Try window.db first (shorthand), then window.databuddy
				const tracker = window.db?.track || window.databuddy?.track;
				if (!tracker) {
					console.log('Tracking: Databuddy tracker not available');
					return;
				}
				
				try {
					console.log('Tracking: Sending event', eventName, properties);
					await tracker(eventName, properties);
					console.log('Tracking: Event sent successfully');
				} catch (error) {
					console.log('Tracking: Failed to send event', error.message);
					// Still log the event locally for debugging
					console.log('Event that failed:', { eventName, properties, timestamp: new Date().toISOString() });
				}
			};

			const trackCTAClick = async (ctaType, url) => {
				await track('call_clicked', {
					cta_type: ctaType,
					url: url,
					timestamp: new Date().toISOString(),
					page: window.location.pathname
				});
			};

			const trackEmailClick = async (email) => {
				await track('mail_clicked', {
					email: email,
					timestamp: new Date().toISOString(),
					page: window.location.pathname
				});
			};

			// Wait for DOM to be ready
			document.addEventListener('DOMContentLoaded', function() {
				// Track CTA button clicks
				const ctaButton = document.querySelector('.cta a');
				if (ctaButton) {
					ctaButton.addEventListener('click', function(e) {
						trackCTAClick('book_call', 'https://cal.com/denizkumral');
					});
				}

				// Track email clicks
				const emailLink = document.querySelector('.second-cta a');
				if (emailLink) {
					emailLink.addEventListener('click', function(e) {
						trackEmailClick('mail@deniz.studio');
					});
				}
			});
		</script>
	</head>
	<body>
		<div class="container">
        <div class="main">
			<div class="title-cta">
				<div class="titletext">
					<h1 class="name">Hi I'm Deniz!</h1>
					<p>Based in Wiesbaden, Germany I create modern and premium designs that elevate brands and engage audiences. I collaborate closely with my clients to ensure every pixel serves a purpose, delivering beautiful and functional designs that drive real results for businesses like yours. In my free time I also like to do <a href="https://photo.deniz.studio" target="_blank">photography</a>.</p>
				</div>
				<div class="buttons">

					<button class="cta">
						<a href="https://cal.com/denizkumral" target="_blank">Book a Call</a>
                    </button>
					<button class="second-cta">
						<a href="mailto:mail@deniz.studio" target="_blank">mail@deniz.studio</a>
					</button>
				</div>
				</div>
		<TestimonialsTwo client:load />
        <Projects />
        </div>
		<div class="links">
			<a href="/imprint">Imprint</a>
			<a href="/privacy">Privacy</a>
			<a href="https://photo.deniz.studio" target="_blank">Photography</a>

		</div>
    </div>
	</body>
</html>

<style>
	@font-face {
		font-family: 'Inter Variable';
		src: url('/fonts/InterVariable.ttf') format('truetype');
		font-weight: 100 900;
		font-style: normal;
		font-display: swap;
	}

	/* 1. Use a more-intuitive box-sizing model */
*, *::before, *::after {
  box-sizing: border-box;
  font-family: "Inter Variable", "Inter", sans-serif;
}

/* 2. Remove default margin */
* {
  margin: 0;
}

/* 3. Enable keyword animations */
@media (prefers-reduced-motion: no-preference) {
  html {
    interpolate-size: allow-keywords;
  }
}

body {
  /* 4. Add accessible line-height */
  line-height: 1.5;
  /* 5. Improve text rendering */
  -webkit-font-smoothing: antialiased;
  display: flex;
  justify-content: center;
}

/* 6. Improve media defaults */
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}

/* 7. Inherit fonts for form controls */
input, button, textarea, select {
  font: inherit;
}

a {
  color: inherit; /* blue colors for links too */
  /* text-decoration: inherit; no underline */
  font-size: 14px;
}

.titletext a {
	text-decoration: underline;
	text-decoration-style: dashed;
}

/* 8. Avoid text overflows */
p, h1, h2, h3, h4, h5, h6 {
  overflow-wrap: break-word;
}

/* 9. Improve line wrapping */
p {
  text-wrap: pretty;
  color: #1e1e1e;
}
h1, h2, h3, h4, h5, h6 {
  text-wrap: balance;
  color: #1e1e1e;
}

/*
  10. Create a root stacking context
*/
#root, #__next {
  isolation: isolate;
}

.container {
	display: flex;
	flex-direction: column;
    margin-top: 24px;
    max-width: 650px;
	gap: 24px;
	margin-bottom: 24px;
	padding: 0 16px;
	width: 100%;
}

@media (min-width: 768px) {
	.container {
		padding: 0 24px;
	}
}

@media (min-width: 1024px) {
	.container {
		padding: 0;
	}
}

.main {
    max-width: 650px;
	display: flex;
	flex-direction: column;
	gap: 46px;
}

.title-cta {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.name, p {
 font-size: 15px;
 font-weight: 400;
 line-height: 1.55;
}

.buttons {
	display: flex;
	align-items: center;
	gap: 12px;
	flex-wrap: wrap;
}

@media (max-width: 480px) {
	.buttons {
		align-items: center;
		gap: 8px;
	}
}

.cta a {
	text-decoration: none;
}

.cta {
	background-color: #1e1e1e;
	width: fit-content;
	color: #ffffff;
	padding: 6px 14px 6px 14px;
	border-radius: 64px;
	display: flex;
	justify-content: center;
	align-items: center;
	transition: all .15s ease-in-out;
    border: none;

}

.cta:hover {
	color: #1e1e1e;
	background-color: #f0f0f0;
}

.second-cta {
	text-decoration: underline;
	border: none;
	background-color: transparent;
}


.links {
	display: flex;
	gap: 24px;
    text-decoration: underline;
	flex-wrap: wrap;
}

@media (max-width: 480px) {
	.links {
		gap: 16px;
	}
}

.links a:hover {
    color: #7a7a7a;
}

</style>
